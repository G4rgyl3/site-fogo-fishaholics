{"address":"SEAyjT1FUx3JyXJnWt5NtjELDwuU9XsoZeZVPVvweU4","metadata":{"name":"fogo_fishing","version":"0.1.0","spec":"0.1.0"},"instructions":[{"name":"admin_close_player","docs":["ADMIN: Immediately close a player account and return rent to authority","Use this to nuke bot accounts without waiting for them to process fish.","Only callable by program authority."],"discriminator":[25,27,85,14,60,151,195,219],"accounts":[{"name":"authority","writable":true,"signer":true},{"name":"global_state","pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,45,115,116,97,116,101]}]}},{"name":"player_state","writable":true,"pda":{"seeds":[{"kind":"const","value":[112,108,97,121,101,114]},{"kind":"arg","path":"owner"}]}}],"args":[{"name":"owner","type":"pubkey"}]},{"name":"admin_set_unprocessed_fish","docs":["ADMIN: Set a player's unprocessed_fish balance (customer support tool)","Use this to grant fish to players as reimbursement or compensation.","Only callable by program authority."],"discriminator":[187,61,239,27,252,66,180,184],"accounts":[{"name":"authority","writable":true,"signer":true},{"name":"global_state","writable":true,"pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,45,115,116,97,116,101]}]}},{"name":"player_state","writable":true,"pda":{"seeds":[{"kind":"const","value":[112,108,97,121,101,114]},{"kind":"arg","path":"owner"}]}}],"args":[{"name":"owner","type":"pubkey"},{"name":"new_balance","type":"u64"}]},{"name":"buy_supercast","discriminator":[237,164,11,46,222,119,53,237],"accounts":[{"name":"signer","docs":["The signer (session key or user wallet)"],"writable":true,"signer":true},{"name":"global_state","writable":true,"pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,45,115,116,97,116,101]}]}},{"name":"config","docs":["Global config (issuer key, gating flags)"],"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"player_state","docs":["Player state PDA based on owner"],"writable":true,"pda":{"seeds":[{"kind":"const","value":[112,108,97,121,101,114]},{"kind":"arg","path":"owner"}]}},{"name":"fogo_mint","writable":true},{"name":"owner_fogo_ata","docs":["FOGO tokens from OWNER (session signer has delegated authority to spend)"],"writable":true},{"name":"buyback_treasury","docs":["Buyback Treasury - receives 50% of supercast fees"],"writable":true},{"name":"liquidity_treasury","docs":["Liquidity Treasury - receives 10% of supercast fees"],"writable":true},{"name":"ops_treasury","docs":["Ops Treasury - receives 40% of supercast fees"],"writable":true},{"name":"program_signer","docs":["Program signer PDA for Fogo Sessions token transfers"],"pda":{"seeds":[{"kind":"const","value":[102,111,103,111,95,115,101,115,115,105,111,110,95,112,114,111,103,114,97,109,95,115,105,103,110,101,114]}]}},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"instructions_sysvar","address":"Sysvar1nstructions1111111111111111111111111"}],"args":[{"name":"owner","type":"pubkey"},{"name":"tier_index","type":"u8"}]},{"name":"cast_line","discriminator":[16,223,158,206,88,206,92,69],"accounts":[{"name":"signer","docs":["The signer (session key or user wallet)"],"writable":true,"signer":true},{"name":"global_state","pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,45,115,116,97,116,101]}]}},{"name":"config","docs":["Global config (issuer key, flags)"],"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"rate_state","docs":["Player-specific rate state (nonce/cooldown) - only required when capability checking is enabled"]},{"name":"instructions_sysvar","address":"Sysvar1nstructions1111111111111111111111111"},{"name":"slot_hashes","address":"SysvarS1otHashes111111111111111111111111111"},{"name":"player_state","docs":["Player state PDA based on owner"],"writable":true,"pda":{"seeds":[{"kind":"const","value":[112,108,97,121,101,114]},{"kind":"arg","path":"owner"}]}},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"owner","type":"pubkey"},{"name":"target_slot","type":"u64"},{"name":"use_supercast","type":"bool"},{"name":"_nonce","type":"u64"}]},{"name":"close_config","docs":["Close the config account and return rent to authority.","Used for schema migrations - close old config, then reinitialize with new schema."],"discriminator":[145,9,72,157,95,125,61,85],"accounts":[{"name":"authority","writable":true,"signer":true},{"name":"global_state","pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,45,115,116,97,116,101]}]}},{"name":"config","docs":["because the on-chain schema doesn't match the current code"],"writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}}],"args":[]},{"name":"close_global_state","discriminator":[141,150,173,249,0,50,177,215],"accounts":[{"name":"authority","writable":true,"signer":true},{"name":"destination","writable":true},{"name":"global_state","writable":true,"pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,45,115,116,97,116,101]}]}}],"args":[]},{"name":"create_fish_metadata","docs":["Create metadata for the FISH token using the Global State PDA as mint authority.","This is needed when the mint authority was transferred to the PDA before metadata was created.","Only callable by the program authority."],"discriminator":[14,148,239,156,24,109,34,130],"accounts":[{"name":"authority","writable":true,"signer":true},{"name":"global_state","writable":true,"pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,45,115,116,97,116,101]}]}},{"name":"fish_mint","docs":["The FISH mint account"],"writable":true},{"name":"metadata","docs":["The metadata account to be created"],"writable":true},{"name":"token_metadata_program","address":"metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[{"name":"name","type":"string"},{"name":"symbol","type":"string"},{"name":"uri","type":"string"}]},{"name":"create_referrer_info","docs":["REFERRAL SYSTEM: Create a ReferrerInfo PDA to link a player to their referrer","This is a separate PDA from PlayerState, so it can be created without modifying","existing player accounts. Safe to deploy without any migration.","","Anyone can call this for any player who doesn't already have a ReferrerInfo.","Once created, the referrer cannot be changed."],"discriminator":[40,154,89,242,99,85,1,177],"accounts":[{"name":"fee_payer","docs":["The transaction fee payer (paymaster in production)"],"writable":true,"signer":true},{"name":"owner","docs":["The player wallet who is registering a referrer"]},{"name":"referrer_info","docs":["ReferrerInfo PDA - stores the referrer relationship","Seeds: [\"referrer\", owner]"],"writable":true,"pda":{"seeds":[{"kind":"const","value":[114,101,102,101,114,114,101,114]},{"kind":"account","path":"owner"}]}},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"referrer","type":"pubkey"}]},{"name":"finish_upgrade","docs":["ECONOMIC REBALANCE: Finish upgrade (completes after cast requirement met)"],"discriminator":[41,200,85,131,105,69,118,105],"accounts":[{"name":"signer","docs":["The signer (session key or user wallet)"],"writable":true,"signer":true},{"name":"global_state","writable":true,"pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,45,115,116,97,116,101]}]}},{"name":"player_state","docs":["Player state PDA based on owner"],"writable":true,"pda":{"seeds":[{"kind":"const","value":[112,108,97,121,101,114]},{"kind":"arg","path":"owner"}]}}],"args":[{"name":"owner","type":"pubkey"}]},{"name":"initialize_config","discriminator":[208,127,21,1,194,190,196,70],"accounts":[{"name":"authority","writable":true,"signer":true},{"name":"global_state","writable":true,"pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,45,115,116,97,116,101]}]}},{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"issuer_pubkey","type":"pubkey"},{"name":"require_capability_for_catch","type":"bool"},{"name":"require_capability_for_spend","type":"bool"},{"name":"require_fee_for_init","type":"bool"},{"name":"soft_gate_mode","type":"bool"},{"name":"basic_cooldown_ms","type":"u32"}]},{"name":"initialize_difficulty_tracker","docs":["ADMIN ONLY: Initialize the DifficultyTracker PDA for 24h-based difficulty adjustment","","This creates a separate PDA that tracks fish caught per difficulty adjustment period.","Once initialized, refresh_difficulty will use 24h-based calculations instead of","all-time averages.","","Run once after program upgrade. Safe to call - will fail if already initialized."],"discriminator":[26,93,181,253,252,91,226,54],"accounts":[{"name":"authority","writable":true,"signer":true},{"name":"global_state","pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,45,115,116,97,116,101]}]}},{"name":"difficulty_tracker","writable":true,"pda":{"seeds":[{"kind":"const","value":[100,105,102,102,105,99,117,108,116,121,45,116,114,97,99,107,101,114]}]}},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[]},{"name":"initialize_global_state","discriminator":[232,254,209,244,123,89,154,207],"accounts":[{"name":"authority","writable":true,"signer":true},{"name":"global_state","writable":true,"pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,45,115,116,97,116,101]}]}},{"name":"fish_mint","writable":true},{"name":"fogo_mint"},{"name":"fogo_treasury","writable":true},{"name":"fish_burn_vault","writable":true},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],"args":[{"name":"params","type":{"defined":{"name":"InitializeGlobalStateParams"}}}]},{"name":"initialize_player","discriminator":[79,249,88,177,220,62,56,128],"accounts":[{"name":"fee_payer","docs":["The transaction fee payer (paymaster in production)"],"writable":true,"signer":true},{"name":"signer","docs":["The signer (session key)"],"signer":true},{"name":"owner","docs":["The owner wallet (NOT a signer - this is who owns the tokens and player state)"]},{"name":"global_state","writable":true,"pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,45,115,116,97,116,101]}]}},{"name":"config","docs":["Global config (issuer key, gating flags)"],"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"player_state","docs":["Player state PDA based on OWNER wallet (not signer)"],"writable":true,"pda":{"seeds":[{"kind":"const","value":[112,108,97,121,101,114]},{"kind":"account","path":"owner"}]}},{"name":"fogo_mint","writable":true},{"name":"owner_fogo_ata","docs":["FOGO tokens from OWNER (session signer has delegated authority to spend)","init_if_needed: Creates the ATA if it doesn't exist (paymaster sponsors)"],"writable":true,"pda":{"seeds":[{"kind":"account","path":"owner"},{"kind":"const","value":[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{"kind":"account","path":"fogo_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"fish_mint","writable":true},{"name":"owner_fish_ata","docs":["FISH token account for owner - created during initialization","init_if_needed: Creates the ATA if it doesn't exist (protocol pays = fully gasless)"],"writable":true,"pda":{"seeds":[{"kind":"account","path":"owner"},{"kind":"const","value":[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{"kind":"account","path":"fish_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"base_treasury","docs":["Base Treasury - receives 100% of boat purchases (tiers 1-3)","SECURITY: Address is hardcoded (except localnet for testing)"],"writable":true},{"name":"program_signer","docs":["Program signer PDA for Fogo Sessions token transfers"],"pda":{"seeds":[{"kind":"const","value":[102,111,103,111,95,115,101,115,115,105,111,110,95,112,114,111,103,114,97,109,95,115,105,103,110,101,114]}]}},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"associated_token_program","address":"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"instructions_sysvar","address":"Sysvar1nstructions1111111111111111111111111"}],"args":[{"name":"boat_tier","type":"u8"},{"name":"referrer","type":"pubkey"}]},{"name":"initialize_player_local","docs":["TEST/LOCAL: Initialize player without payments (bypass treasuries)","This instruction is intended for local testing and unit tests only.","It mirrors initialize_player but skips SPL FOGO checks and transfers."],"discriminator":[14,17,146,43,217,76,201,71],"accounts":[{"name":"fee_payer","docs":["The transaction fee payer (covers account creations)"],"writable":true,"signer":true},{"name":"signer","docs":["The signer (session key or user wallet)"],"signer":true},{"name":"owner","docs":["The owner wallet (NOT a signer)"]},{"name":"global_state","writable":true,"pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,45,115,116,97,116,101]}]}},{"name":"player_state","docs":["Player state PDA based on OWNER wallet (not signer)"],"writable":true,"pda":{"seeds":[{"kind":"const","value":[112,108,97,121,101,114]},{"kind":"account","path":"owner"}]}},{"name":"fish_mint","writable":true},{"name":"owner_fish_ata","docs":["FISH token account for owner - ensure it exists"],"writable":true,"pda":{"seeds":[{"kind":"account","path":"owner"},{"kind":"const","value":[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{"kind":"account","path":"fish_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"associated_token_program","address":"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"instructions_sysvar","address":"Sysvar1nstructions1111111111111111111111111"}],"args":[{"name":"referrer","type":"pubkey"}]},{"name":"initialize_player_with_tier","docs":["Initialize player with explicit boat tier: 1=Free, 2=Mid, 3=Premium, 4=Trump"],"discriminator":[250,239,254,120,178,17,238,36],"accounts":[{"name":"fee_payer","docs":["The transaction fee payer (paymaster in production)"],"writable":true,"signer":true},{"name":"signer","docs":["The signer (session key)"],"signer":true},{"name":"owner","docs":["The owner wallet (NOT a signer - this is who owns the tokens and player state)"]},{"name":"global_state","writable":true,"pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,45,115,116,97,116,101]}]}},{"name":"config","docs":["Global config (issuer key, gating flags)"],"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"player_state","docs":["Player state PDA based on OWNER wallet (not signer)"],"writable":true,"pda":{"seeds":[{"kind":"const","value":[112,108,97,121,101,114]},{"kind":"account","path":"owner"}]}},{"name":"fogo_mint","writable":true},{"name":"owner_fogo_ata","docs":["FOGO tokens from OWNER (session signer has delegated authority to spend)","init_if_needed: Creates the ATA if it doesn't exist (paymaster sponsors)"],"writable":true,"pda":{"seeds":[{"kind":"account","path":"owner"},{"kind":"const","value":[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{"kind":"account","path":"fogo_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"fish_mint","writable":true},{"name":"owner_fish_ata","docs":["FISH token account for owner - created during initialization","init_if_needed: Creates the ATA if it doesn't exist (protocol pays = fully gasless)"],"writable":true,"pda":{"seeds":[{"kind":"account","path":"owner"},{"kind":"const","value":[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{"kind":"account","path":"fish_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"base_treasury","docs":["Base Treasury - receives 100% of boat purchases (tiers 1-3)","SECURITY: Address is hardcoded (except localnet for testing)"],"writable":true},{"name":"program_signer","docs":["Program signer PDA for Fogo Sessions token transfers"],"pda":{"seeds":[{"kind":"const","value":[102,111,103,111,95,115,101,115,115,105,111,110,95,112,114,111,103,114,97,109,95,115,105,103,110,101,114]}]}},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"associated_token_program","address":"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"instructions_sysvar","address":"Sysvar1nstructions1111111111111111111111111"}],"args":[{"name":"boat_tier","type":"u8"},{"name":"referrer","type":"pubkey"}]},{"name":"process_fish","docs":["PHASE 3: Process unprocessed FISH into liquid tokens (ORE Model)","Players accumulate unprocessed fish from fishing which earns yield from processing fees","When they process: 10% fee â†’ distributed to remaining unprocessed fish holders","Creates game theory: Hold for yield vs Process for liquidity"],"discriminator":[213,71,113,44,222,228,52,74],"accounts":[{"name":"signer","docs":["The signer (session key or user wallet)"],"writable":true,"signer":true},{"name":"owner_account"},{"name":"global_state","writable":true,"pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,45,115,116,97,116,101]}]}},{"name":"config","docs":["Global config (issuer key, gating flags)"],"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"player_state","docs":["Player state PDA based on owner"],"writable":true,"pda":{"seeds":[{"kind":"const","value":[112,108,97,121,101,114]},{"kind":"arg","path":"owner"}]}},{"name":"fish_mint","writable":true},{"name":"owner_fish_ata","writable":true},{"name":"referrer_info","docs":["If valid, we'll pay 1% to the referrer's FISH ATA.","Seeds: [\"referrer\", owner] - validated in instruction logic."]},{"name":"referrer_fish_ata","docs":["If player has no referrer (no ReferrerInfo PDA), this can be any account (unused).","Validated in instruction logic to match referrer_info.referrer's ATA."],"writable":true},{"name":"fogo_mint"},{"name":"owner_fogo_ata","docs":["USDC tokens from OWNER (session signer has delegated authority to spend)"],"writable":true},{"name":"base_treasury","docs":["Base Treasury - receives 100% of first process fee (anti-bot tax = pure profit)","Note: Other treasuries removed since first process fee now goes 100% to base"],"writable":true},{"name":"program_signer","docs":["Program signer PDA for Fogo Sessions token transfers/burns"],"pda":{"seeds":[{"kind":"const","value":[102,111,103,111,95,115,101,115,115,105,111,110,95,112,114,111,103,114,97,109,95,115,105,103,110,101,114]}]}},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"associated_token_program","address":"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"instructions_sysvar","address":"Sysvar1nstructions1111111111111111111111111"},{"name":"difficulty_tracker","docs":["If this is the valid tracker PDA (seeds: [\"difficulty-tracker\"]), use v3 calculation.","If not (e.g., system program passed as placeholder), fall back to legacy calculation.","This allows backward compatibility - existing clients can pass SystemProgram.programId."],"writable":true}],"args":[{"name":"owner","type":"pubkey"}]},{"name":"record_catch","docs":["Record catch delta for a player to keep global totals accurate without a keeper.","Permissionless and idempotent: anyone can call; computes delta from on-chain state."],"discriminator":[36,14,58,242,96,105,45,233],"accounts":[{"name":"signer","docs":["Any signer (payer); permissionless"],"signer":true},{"name":"global_state","writable":true,"pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,45,115,116,97,116,101]}]}},{"name":"player_state","writable":true,"pda":{"seeds":[{"kind":"const","value":[112,108,97,121,101,114]},{"kind":"arg","path":"owner"}]}}],"args":[{"name":"owner","type":"pubkey"}]},{"name":"refresh_difficulty","discriminator":[239,15,255,193,71,249,29,100],"accounts":[{"name":"authority","signer":true},{"name":"global_state","writable":true,"pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,45,115,116,97,116,101]}]}}],"args":[]},{"name":"refresh_difficulty_if_due","discriminator":[211,130,130,108,162,134,101,219],"accounts":[{"name":"global_state","writable":true,"pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,45,115,116,97,116,101]}]}}],"args":[]},{"name":"refresh_difficulty_if_due_v3","docs":["V3: Permissionless refresh difficulty using 24h period-based calculation","","Anyone can call this once the 24h epoch has elapsed.","Uses the DifficultyTracker PDA for period-based calculations."],"discriminator":[149,221,73,3,45,114,116,67],"accounts":[{"name":"global_state","writable":true,"pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,45,115,116,97,116,101]}]}},{"name":"difficulty_tracker","writable":true,"pda":{"seeds":[{"kind":"const","value":[100,105,102,102,105,99,117,108,116,121,45,116,114,97,99,107,101,114]}]}}],"args":[]},{"name":"refresh_difficulty_v3","docs":["V3: Admin refresh difficulty using 24h period-based calculation","","This uses the DifficultyTracker PDA to calculate difficulty based on","fish caught in the current 24h period, instead of all-time average.","Much more responsive to recent activity changes."],"discriminator":[54,144,54,10,142,9,159,11],"accounts":[{"name":"authority","signer":true},{"name":"global_state","writable":true,"pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,45,115,116,97,116,101]}]}},{"name":"difficulty_tracker","writable":true,"pda":{"seeds":[{"kind":"const","value":[100,105,102,102,105,99,117,108,116,121,45,116,114,97,99,107,101,114]}]}}],"args":[]},{"name":"repair_rod","discriminator":[165,110,183,42,82,7,135,155],"accounts":[{"name":"signer","docs":["The signer (session key or user wallet)"],"writable":true,"signer":true},{"name":"global_state","writable":true,"pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,45,115,116,97,116,101]}]}},{"name":"config","docs":["Global config (issuer key, gating flags)"],"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"player_state","docs":["Player state PDA based on owner"],"writable":true,"pda":{"seeds":[{"kind":"const","value":[112,108,97,121,101,114]},{"kind":"arg","path":"owner"}]}},{"name":"fogo_mint","writable":true},{"name":"owner_fogo_ata","docs":["FOGO tokens from OWNER (session signer has delegated authority to spend)"],"writable":true},{"name":"buyback_treasury","docs":["Buyback Treasury - receives 50% of repair fees"],"writable":true},{"name":"liquidity_treasury","docs":["Liquidity Treasury - receives 10% of repair fees"],"writable":true},{"name":"ops_treasury","docs":["Ops Treasury - receives 40% of repair fees"],"writable":true},{"name":"program_signer","docs":["Program signer PDA for Fogo Sessions token transfers"],"pda":{"seeds":[{"kind":"const","value":[102,111,103,111,95,115,101,115,115,105,111,110,95,112,114,111,103,114,97,109,95,115,105,103,110,101,114]}]}},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"instructions_sysvar","address":"Sysvar1nstructions1111111111111111111111111"}],"args":[{"name":"owner","type":"pubkey"}]},{"name":"reset_halving_count","docs":["ADMIN ONLY: Reset halving count (emergency fix for incorrect halvings)"],"discriminator":[0,245,239,192,227,156,115,45],"accounts":[{"name":"authority","signer":true},{"name":"global_state","writable":true,"pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,45,115,116,97,116,101]}]}}],"args":[{"name":"new_count","type":"u8"}]},{"name":"set_daily_target_emission","docs":["ADMIN ONLY: Directly set daily target emission","Use to fix incorrect halving or adjust emission targets"],"discriminator":[184,24,189,150,165,98,160,94],"accounts":[{"name":"authority","signer":true},{"name":"global_state","writable":true,"pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,45,115,116,97,116,101]}]}}],"args":[{"name":"new_target","type":"u64"}]},{"name":"set_difficulty","docs":["ADMIN ONLY: Directly set difficulty to a specific value","Use with caution - this bypasses the normal difficulty adjustment formula","Also resets the DifficultyTracker to start a fresh 24h period"],"discriminator":[240,249,174,217,65,121,195,104],"accounts":[{"name":"authority","signer":true},{"name":"global_state","writable":true,"pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,45,115,116,97,116,101]}]}},{"name":"difficulty_tracker","writable":true,"pda":{"seeds":[{"kind":"const","value":[100,105,102,102,105,99,117,108,116,121,45,116,114,97,99,107,101,114]}]}}],"args":[{"name":"new_difficulty","type":"u64"}]},{"name":"set_honeypot","docs":["HONEYPOT: Flag a player account for burning on next process_fish","Only callable by program authority. Flagged accounts will have their","entire FISH wallet balance burned when they call process_fish."],"discriminator":[13,21,55,106,63,85,235,174],"accounts":[{"name":"authority","signer":true},{"name":"global_state","pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,45,115,116,97,116,101]}]}},{"name":"player_state","writable":true,"pda":{"seeds":[{"kind":"const","value":[112,108,97,121,101,114]},{"kind":"arg","path":"owner"}]}}],"args":[{"name":"owner","type":"pubkey"},{"name":"enabled","type":"bool"}]},{"name":"skip_upgrade_timer","docs":["ECONOMIC REBALANCE: Skip upgrade timer (instantly completes for FOGO payment)"],"discriminator":[141,215,245,3,116,212,120,119],"accounts":[{"name":"signer","docs":["The signer (session key or user wallet)"],"writable":true,"signer":true},{"name":"global_state","writable":true,"pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,45,115,116,97,116,101]}]}},{"name":"config","docs":["Global config (issuer key, gating flags)"],"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"player_state","docs":["Player state PDA based on owner"],"writable":true,"pda":{"seeds":[{"kind":"const","value":[112,108,97,121,101,114]},{"kind":"arg","path":"owner"}]}},{"name":"fogo_mint","writable":true},{"name":"owner_fogo_ata","docs":["FOGO tokens from OWNER (session signer has delegated authority to spend)"],"writable":true},{"name":"buyback_treasury","docs":["Buyback Treasury - receives 50% of skip fees"],"writable":true},{"name":"liquidity_treasury","docs":["Liquidity Treasury - receives 10% of skip fees"],"writable":true},{"name":"ops_treasury","docs":["Ops Treasury - receives 40% of skip fees"],"writable":true},{"name":"program_signer","docs":["Program signer PDA for Fogo Sessions token transfers"],"pda":{"seeds":[{"kind":"const","value":[102,111,103,111,95,115,101,115,115,105,111,110,95,112,114,111,103,114,97,109,95,115,105,103,110,101,114]}]}},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"instructions_sysvar","address":"Sysvar1nstructions1111111111111111111111111"}],"args":[{"name":"owner","type":"pubkey"}]},{"name":"start_upgrade","docs":["ECONOMIC REBALANCE: Start upgrade (burns FISH+FOGO, starts cast timer)"],"discriminator":[134,190,143,225,188,141,38,116],"accounts":[{"name":"signer","docs":["The signer (session key or user wallet)"],"writable":true,"signer":true},{"name":"global_state","writable":true,"pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,45,115,116,97,116,101]}]}},{"name":"config","docs":["Global config (issuer key, gating flags)"],"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"player_state","docs":["Player state PDA based on owner"],"writable":true,"pda":{"seeds":[{"kind":"const","value":[112,108,97,121,101,114]},{"kind":"arg","path":"owner"}]}},{"name":"fish_mint","writable":true},{"name":"owner_fish_ata","docs":["FISH tokens from OWNER's account"],"writable":true},{"name":"fogo_mint","writable":true},{"name":"owner_fogo_ata","docs":["FOGO tokens from OWNER (session signer has delegated authority to spend)"],"writable":true},{"name":"buyback_treasury","docs":["Buyback Treasury - receives 50% of upgrade fees"],"writable":true},{"name":"liquidity_treasury","docs":["Liquidity Treasury - receives 10% of upgrade fees"],"writable":true},{"name":"ops_treasury","docs":["Ops Treasury - receives 40% of upgrade fees"],"writable":true},{"name":"program_signer","docs":["Program signer PDA for Fogo Sessions token transfers"],"pda":{"seeds":[{"kind":"const","value":[102,111,103,111,95,115,101,115,115,105,111,110,95,112,114,111,103,114,97,109,95,115,105,103,110,101,114]}]}},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"instructions_sysvar","address":"Sysvar1nstructions1111111111111111111111111"}],"args":[{"name":"owner","type":"pubkey"},{"name":"target_level","type":"u8"}]},{"name":"update_config","discriminator":[29,158,252,191,10,83,219,99],"accounts":[{"name":"authority","signer":true},{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}}],"args":[{"name":"issuer_pubkey","type":{"option":"pubkey"}},{"name":"require_capability_for_catch","type":{"option":"bool"}},{"name":"require_capability_for_spend","type":{"option":"bool"}},{"name":"require_fee_for_init","type":{"option":"bool"}},{"name":"soft_gate_mode","type":{"option":"bool"}},{"name":"basic_cooldown_ms","type":{"option":"u32"}}]},{"name":"update_fish_metadata","docs":["Update metadata for the FISH token using the Global State PDA as update authority.","Only callable by the program authority."],"discriminator":[202,94,120,133,194,38,99,213],"accounts":[{"name":"authority","writable":true,"signer":true},{"name":"global_state","writable":true,"pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,45,115,116,97,116,101]}]}},{"name":"fish_mint","docs":["The FISH mint account"]},{"name":"metadata","docs":["The metadata account to update"],"writable":true},{"name":"token_metadata_program","address":"metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"}],"args":[{"name":"name","type":"string"},{"name":"symbol","type":"string"},{"name":"uri","type":"string"}]},{"name":"upgrade_rod","docs":["DEPRECATED: This instant upgrade bypasses cast gates and breaks economy.","Use start_upgrade + finish_upgrade (or skip_upgrade_timer) instead.","This function will always fail to prevent exploitation."],"discriminator":[18,73,23,60,255,5,83,206],"accounts":[{"name":"signer","docs":["The signer (session key or user wallet)"],"writable":true,"signer":true},{"name":"global_state","writable":true,"pda":{"seeds":[{"kind":"const","value":[103,108,111,98,97,108,45,115,116,97,116,101]}]}},{"name":"player_state","docs":["Player state PDA based on owner"],"writable":true,"pda":{"seeds":[{"kind":"const","value":[112,108,97,121,101,114]},{"kind":"arg","path":"owner"}]}},{"name":"fish_mint","writable":true},{"name":"owner_fish_ata","docs":["FISH tokens from OWNER's account"],"writable":true},{"name":"fogo_mint","writable":true},{"name":"owner_fogo_ata","docs":["FOGO tokens from OWNER (session signer has delegated authority to spend)"],"writable":true},{"name":"buyback_treasury","docs":["Buyback Treasury - receives 50% of upgrade fees","SECURITY: Address is hardcoded (except localnet for testing)"],"writable":true},{"name":"liquidity_treasury","docs":["Liquidity Treasury - receives 10% of upgrade fees","SECURITY: Address is hardcoded (except localnet for testing)"],"writable":true},{"name":"ops_treasury","docs":["Ops Treasury - receives 40% of upgrade fees","SECURITY: Address is hardcoded (except localnet for testing)"],"writable":true},{"name":"program_signer","docs":["Program signer PDA for Fogo Sessions token transfers"],"pda":{"seeds":[{"kind":"const","value":[102,111,103,111,95,115,101,115,115,105,111,110,95,112,114,111,103,114,97,109,95,115,105,103,110,101,114]}]}},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],"args":[{"name":"_owner","type":"pubkey"}]}],"accounts":[{"name":"Config","discriminator":[155,12,170,224,30,250,204,130]},{"name":"DifficultyTracker","discriminator":[47,230,7,21,179,122,54,104]},{"name":"GlobalState","discriminator":[163,46,74,168,216,123,133,98]},{"name":"PlayerState","discriminator":[56,3,60,86,174,16,244,195]},{"name":"ReferrerInfo","discriminator":[203,91,231,132,39,147,137,21]}],"events":[{"name":"FishCaught","discriminator":[103,248,14,11,150,185,50,179]}],"errors":[{"code":6000,"name":"InvalidEmissionConfig","msg":"Invalid emission configuration supplied"},{"code":6001,"name":"InvalidBoatTier","msg":"Invalid boat tier"},{"code":6002,"name":"BumpNotFound","msg":"Failed to fetch bump seed"},{"code":6003,"name":"PlayerAlreadyInitialized","msg":"Player already initialized"},{"code":6004,"name":"MathOverflow","msg":"Math overflow detected"},{"code":6005,"name":"ZeroEmission","msg":"Zero emission calculated"},{"code":6006,"name":"MaxRodLevelReached","msg":"Maximum rod level reached"},{"code":6007,"name":"InsufficientFish","msg":"Not enough FISH for upgrade"},{"code":6008,"name":"InsufficientFogo","msg":"Not enough FOGO for upgrade"},{"code":6009,"name":"InsufficientTrump","msg":"Not enough $TRUMP for Trump boat"},{"code":6010,"name":"InvalidTrumpMint","msg":"Invalid $TRUMP mint address"},{"code":6011,"name":"InvalidTrumpTreasury","msg":"Invalid $TRUMP treasury address"},{"code":6012,"name":"RodBroken","msg":"Rod is broken - repair required"},{"code":6013,"name":"RodNotDamaged","msg":"Rod is already at full durability"},{"code":6014,"name":"RepairNotAllowedAboveThreshold","msg":"Repair not allowed above 20% durability"},{"code":6015,"name":"InvalidRodProgression","msg":"Rod progression configuration invalid"},{"code":6016,"name":"InvalidMintAuthority","msg":"Invalid mint authority supplied"},{"code":6017,"name":"MissingCapability","msg":"Capability required but missing or invalid"},{"code":6018,"name":"CapabilityWalletMismatch","msg":"Capability wallet mismatch"},{"code":6019,"name":"CapabilityExpired","msg":"Capability expired or not yet valid"},{"code":6020,"name":"CapabilityInvalidSignature","msg":"Capability message/signature invalid"},{"code":6021,"name":"NonceReused","msg":"Nonce reused or not increasing"},{"code":6022,"name":"CapabilityProgramMismatch","msg":"Capability program mismatch"},{"code":6023,"name":"NoFishToProcess","msg":"No fish to process"},{"code":6024,"name":"UpgradeAlreadyInProgress","msg":"Upgrade already in progress"},{"code":6025,"name":"NoUpgradeInProgress","msg":"No upgrade in progress"},{"code":6026,"name":"UpgradeNotReady","msg":"Upgrade not ready (more casts required)"},{"code":6027,"name":"UpgradeAlreadyComplete","msg":"Upgrade already complete"},{"code":6028,"name":"InvalidSupercastTier","msg":"Invalid supercast tier"},{"code":6029,"name":"InvalidLevel","msg":"Invalid rod level"},{"code":6030,"name":"ATASubsidyExhausted","msg":"ATA subsidy already claimed - user must create token accounts manually"},{"code":6031,"name":"InvalidFishAta","msg":"Owner FISH token account invalid for processing"},{"code":6032,"name":"AtaCreationRateLimited","msg":"FISH token account recreation is rate-limited"},{"code":6033,"name":"FeePaymentRequired","msg":"Fee payment required before subsidized action"},{"code":6034,"name":"SlotHashUnavailable","msg":"Slot hash unavailable for randomness seed"},{"code":6035,"name":"CastSlotAlreadyProcessed","msg":"Cast already processed for this slot"},{"code":6036,"name":"RevealCooldownActive","msg":"Must wait for the next slot before processing rewards"},{"code":6037,"name":"InstantUpgradeDisabled","msg":"Instant upgrade disabled - use start_upgrade + finish_upgrade instead"},{"code":6038,"name":"SpendingDisabled","msg":"Spending disabled - game is in shutdown mode"},{"code":6039,"name":"InsufficientBalanceForInit","msg":"Insufficient balance - must have at least $5 in wallet to initialize"},{"code":6040,"name":"SupercastChargesRemaining","msg":"Supercast charges remaining - use them before buying more"},{"code":6041,"name":"AlreadyMigrated","msg":"Player state already migrated to v2"},{"code":6042,"name":"InvalidPlayerState","msg":"Invalid player state account"},{"code":6043,"name":"InvalidReferrer","msg":"Invalid referrer address"}],"types":[{"name":"Config","type":{"kind":"struct","fields":[{"name":"authority","type":"pubkey"},{"name":"issuer_pubkey","type":"pubkey"},{"name":"require_capability_for_catch","type":"bool"},{"name":"require_capability_for_spend","docs":["When true, all FOGO/USDC-spending instructions (upgrades, repairs,","supercast, process_fish fees, paid initialize) must present a valid","CAP_MODE_SPEND capability."],"type":"bool"},{"name":"require_fee_for_init","docs":["When true, initialize_player / initialize_player_with_tier additionally","require a recent fee payment from `owner` (see require_recent_fee_payment).","Default should be false to preserve free onboarding; enable only as","an emergency throttle during active paymaster DoS."],"type":"bool"},{"name":"soft_gate_mode","type":"bool"},{"name":"basic_cooldown_ms","type":"u32"},{"name":"bump","type":"u8"},{"name":"_reserved","type":{"array":["u8",0]}}]}},{"name":"DifficultyTracker","docs":["Separate PDA for 24h difficulty tracking","This allows us to add new difficulty tracking without changing GlobalState size.","Seeds: [\"difficulty-tracker\"]"],"type":{"kind":"struct","fields":[{"name":"period_start_fish_count","docs":["Total fish (unprocessed + minted) at the start of the current tracking period"],"type":"u64"},{"name":"period_start_timestamp","docs":["Timestamp when the current period started"],"type":"i64"},{"name":"authority","docs":["Authority that can update this (should match GlobalState authority)"],"type":"pubkey"},{"name":"bump","type":"u8"},{"name":"_reserved","type":{"array":["u8",7]}}]}},{"name":"FishCaught","type":{"kind":"struct","fields":[{"name":"player","type":"pubkey"},{"name":"rarity","type":{"defined":{"name":"FishRarity"}}},{"name":"amount","type":"u64"},{"name":"cast_count","type":"u64"},{"name":"timestamp","type":"i64"}]}},{"name":"FishRarity","type":{"kind":"enum","variants":[{"name":"Common"},{"name":"Uncommon"},{"name":"Rare"},{"name":"Mythical"},{"name":"Legendary"},{"name":"Lunker"}]}},{"name":"GlobalState","type":{"kind":"struct","fields":[{"name":"authority","type":"pubkey"},{"name":"fish_mint","type":"pubkey"},{"name":"fogo_mint","type":"pubkey"},{"name":"fogo_treasury","type":"pubkey"},{"name":"fish_burn_vault","type":"pubkey"},{"name":"current_difficulty","type":"u64"},{"name":"total_network_power","type":"u64"},{"name":"last_difficulty_adjustment","type":"i64"},{"name":"base_emission_rate","type":"u64"},{"name":"emission_decay_rate","type":"u64"},{"name":"daily_target_emission","type":"u64"},{"name":"total_fogo_collected","type":"u128"},{"name":"total_fish_minted","type":"u64"},{"name":"total_unprocessed_fish","type":"u64"},{"name":"accumulated_processing_fees","type":"u64"},{"name":"fees_per_unprocessed_fish","type":"u128"},{"name":"bump","type":"u8"},{"name":"halving_count","type":"u8"},{"name":"_reserved","type":{"array":["u8",6]}}]}},{"name":"InitializeGlobalStateParams","type":{"kind":"struct","fields":[{"name":"base_emission_rate","type":"u64"},{"name":"emission_decay_rate","type":"u64"},{"name":"daily_target_emission","type":"u64"},{"name":"initial_difficulty","type":"u64"}]}},{"name":"PlayerState","type":{"kind":"struct","fields":[{"name":"owner","type":"pubkey"},{"name":"rod_level","type":"u8"},{"name":"boat_tier","type":"u8"},{"name":"bump","type":"u8"},{"name":"cast_count","type":"u64"},{"name":"fish_caught_all_time","type":"u64"},{"name":"power","type":"u64"},{"name":"max_durability","type":"u32"},{"name":"current_durability","type":"u32"},{"name":"supercast_remaining_casts","type":"u32"},{"name":"last_durability_ts","type":"i64"},{"name":"unprocessed_fish","type":"u64"},{"name":"last_claim_fees_snapshot","type":"u128"},{"name":"last_recorded_unprocessed","type":"u64"},{"name":"upgrade_in_progress","type":"bool"},{"name":"upgrade_target_level","type":"u8"},{"name":"upgrade_casts_at_start","type":"u64"},{"name":"last_ata_creation_slot","type":"u64"},{"name":"last_cast_slot","type":"u64"},{"name":"ata_subsidy_claimed","type":"bool"},{"name":"is_honeypot","type":"bool"},{"name":"first_process_fee_paid","type":"bool"},{"name":"_reserved","type":{"array":["u8",4]}}]}},{"name":"ReferrerInfo","docs":["REFERRAL SYSTEM: Separate PDA storing referrer relationship","This is a standalone account created when a player registers with a referrer.","Using a separate PDA avoids any migration risk to existing PlayerState accounts.","Seeds: [\"referrer\", player_wallet]"],"type":{"kind":"struct","fields":[{"name":"player","docs":["The player wallet this referrer info belongs to"],"type":"pubkey"},{"name":"referrer","docs":["The wallet that referred this player (receives 1% of processing fees)"],"type":"pubkey"},{"name":"bump","docs":["PDA bump seed"],"type":"u8"}]}}]}